{% extends '/layout.html.twig' %}

{% block title %}API{% endblock %}

{% block body %}
<div class="container">

<h1>{{ block('title') }}</h1>

<p><tt>{{ absolute_url(path('netrunnerdb_index')) }}</tt> can be queried via an http API.</p>
<p>This API is provided for use in deckbuilders, card databases, tournament managers, and other tools that complement playing Android: Netrunner.</p>
<p>All texts are copyrighted by Fantasy Flight Games and/or Null Signal Games.</p>

<hr>
<div style="margin: 0 32px">
  <h3>Version 3.0</h3>
  <p>A new API is being developed to replace the current version (2.0). Some notable improvements include:</p>
  <ul>
    <li>Cards are a separate entity from their printings, reducing content duplication</li>
    <li>A proper represenation of play formats and rotation</li>
    <li>A built-in search feature</li>
  </ul>
  <p>A preview version of this API and its documentation can be found here: <a href="https://api-preview.netrunnerdb.com">api-preview.netrunnerdb.com</a>.
</div>
<hr>

<h3>Public and OAuth2</h3>
<p>There are two kinds of API endpoints: <b>public</b> and <b>private</b>. Public API endpoints are available to everyone, while private API endpoints use OAuth2 and are only available to registered clients (applications).</p>
<p>If you want access, please send an email to <a href="mailto:webdev@nullsignal.games">webdev@nullsignal.games</a> describing your project, including the Application Name, the Application Website, and a Redirect URI (you can read <a href="https://www.digitalocean.com/community/tutorials/an-introduction-to-oauth-2#application-registration">this awesome page</a> for more info on OAuth2) and we'll send you credentials.</p>

<h3>Documentation</h3>
<p>The documentation can be found here: <a href="{{ absolute_url(path('nelmio_api_doc_index')) }}">{{ absolute_url(path('nelmio_api_doc_index')) }}</a>.</p>

<h3>Examples</h3>
<ul>
  <li><a href="{{ path('api_public_card',{card_code:'01001'}) }}">{{ path('api_public_card',{card_code:'01001'}) }}</a> returns data for card 01001</li>
  <li><a href="{{ path('api_public_packs') }}">{{ path('api_public_packs') }}</a> returns data for all packs</li>
</ul>

<h3>Encoding</h3>
<p>The response is encoded in utf-8. The HTTP header is <tt>Content-Type:application/json; charset=UTF-8</tt>.</p>

<h3>Caching</h3>
<ul>
  <li>Public API responses use HTTP cache validation (last-modified) and HTTP cache expiration (max-age).</li>
  <li>Private API responses use neither.</li>
</ul>
<p><b>Please conform to HTTP Caching best practices when building your queries.</b></p>

<h3>CORS</h3>
<ul>
  <li>Public API responses include a CORS header: <tt>Access-Control-Allow-Origin:*</tt></li>
</ul>

</div>
{% endblock %}
