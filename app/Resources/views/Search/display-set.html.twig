{% extends '/layout.html.twig' %}

{% block title %}All Sets{% endblock %}

{% block body %}
<div class="container">
   <div id="list">
      <table class="rwd-table table table-striped table-condensed">
         <thead>
            <tr>
               <th>Name</th>
               <th>Cards</th>
               <th>Release Date</th>
               <th style="text-align: center">Standard</th>
               <th style="text-align: center">Startup</th>
            </tr>
         </thead>
         {% for cycle in data %}
         {% set standalone = cycle.packs is not defined %}
            <tr class="odd">
               <td data-th="Name">
                  <a href="{{ cycle.url }}" class="card" data-index="{{ cycle.code }}">
                     <span class="icon icon-{{ cycle.icon }}"></span>
                     {{ cycle.name }}
                  </a>
               </td>
               <td data-th="Count">
                  {% if cycle.total > 0 %}
                     {{ cycle.total }}
                  {% else %}
                     {{ cycle.known }}
                  {% endif %}
               </td>
               <td data-th="Date">
                  {{ cycle.available }}
               </td>
               <td style="text-align: center">
                 {% if standalone %}
                   {% if cycle.standard and cycle.code != "draft" %}
                     <span class="legality-legal">
                   {% else %}
                     <span class="legality-unavailable">
                   {% endif %}
                 {% endif %}
               </td>
               <td style="text-align: center">
                 {% if standalone %}
                   {% if cycle.startup %}
                     <span class="legality-legal">
                   {% else %}
                     <span class="legality-unavailable">
                   {% endif %}
                 {% endif %}
               </td>
            </tr>
            {% if cycle.packs is defined %}
               {% for pack in cycle.packs %}
                  <tr class="even">
                     <td class="cell-indent" data-th="Name">
                        <a href="{{ pack.url }}" class="card" data-index="{{ pack.code }}">
                           <span class="icon icon-subroutine"></span>
                           {{ pack.name }}
                        </a>
                     </td>
                     <td data-th="Count">
                        {% if pack.total > 0 %}
                           {{ pack.total }}
                        {% else %}
                           {{ pack.known }}
                        {% endif %}
                     </td>
                     <td data-th="Date">
                        {{ pack.available }}
                     </td>
                     <td style="text-align: center">
                       {% if pack.standard %}
                         <span class="legality-legal">
                       {% else %}
                         <span class="legality-unavailable">
                       {% endif %}
                     </td>
                     <td style="text-align: center">
                       {% if pack.startup %}
                         <span class="legality-legal">
                       {% else %}
                         <span class="legality-unavailable">
                       {% endif %}
                     </td>
                  </tr>
               {% endfor %}
            {% endif %}
         {% endfor %}
      </table>
   </div>
</div>

{% endblock %}
